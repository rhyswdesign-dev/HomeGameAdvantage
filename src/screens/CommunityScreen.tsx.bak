import React, { useState, useLayoutEffect } from 'react';
import {
  View,
  Text,
  ScrollView,
  StyleSheet,
  Pressable,
  Image,
  ImageBackground,
  FlatList,
  TouchableOpacity,
} from 'react-native';
import { SafeAreaView } from 'react-native-safe-area-context';
import { Ionicons, MaterialCommunityIcons } from '@expo/vector-icons';
import { colors, spacing, radii } from '../theme/tokens';
import { useNavigation } from '@react-navigation/native';
import type { NativeStackNavigationProp } from '@react-navigation/native-stack';
import type { RootStackParamList } from '../navigation/RootNavigator';
import { useSocialData } from '../hooks/useSocialData';
import { useUser } from '../contexts/UserContext';
import GlobalActions from '../components/GlobalActions';
import { SearchableItem } from '../services/searchService';
import SectionHeader from '../components/SectionHeader';

interface TabOption {
  key: 'feed' | 'challenges' | 'groups' | 'games';
  label: string;
  icon: string;
}

const communityTabs: TabOption[] = [
  { key: 'feed', label: 'Feed', icon: 'newspaper-outline' },
  { key: 'challenges', label: 'Challenges', icon: 'trophy-outline' },
  { key: 'groups', label: 'Groups', icon: 'people-outline' },
  { key: 'games', label: 'Games', icon: 'game-controller-outline' },
];

const featuredPosts = [
  {
    id: 'post-1',
    author: {
      name: 'Sarah Chen',
      username: 'cocktail_sarah',
      avatar: 'https://images.unsplash.com/photo-1494790108755-2616b612b359?auto=format&fit=crop&w=400&q=60',
      isVerified: true,
    },
    content: 'Just perfected my take on the classic Aviation cocktail! The key is using crème de violette sparingly - it should complement, not overpower. What\'s your favorite gin-based cocktail?',
    image: 'https://images.unsplash.com/photo-1551538827-9c037cb4f32a?auto=format&fit=crop&w=600&q=60',
    likes: 47,
    comments: 12,
    timestamp: '2 hours ago',
    type: 'recipe',
  },
  {
    id: 'post-2',
    author: {
      name: 'Marcus Thompson',
      username: 'spirit_seeker',
      avatar: 'https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?auto=format&fit=crop&w=400&q=60',
      isVerified: false,
    },
    content: 'Amazing whiskey tasting at The Vault tonight! Tried a 25-year Macallan that absolutely blew my mind. The complexity was incredible - notes of honey, dried fruits, and oak. Worth every penny!',
    likes: 23,
    comments: 8,
    timestamp: '4 hours ago',
    type: 'review',
  },
];

const leaderboardData = [
  { id: '1', name: 'Alex Johnson', username: 'mixmaster_alex', xp: 15420, avatar: 'https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?auto=format&fit=crop&w=400&q=60', rank: 1 },
  { id: '2', name: 'Sarah Chen', username: 'cocktail_sarah', xp: 14850, avatar: 'https://images.unsplash.com/photo-1494790108755-2616b612b359?auto=format&fit=crop&w=400&q=60', rank: 2 },
  { id: '3', name: 'Marcus Thompson', username: 'spirit_seeker', xp: 13920, avatar: 'https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?auto=format&fit=crop&w=400&q=60', rank: 3 },
];

// Games data matching the main GamesScreen
const hero = {
  title: "King's Cup",
  desc: 'A classic card game where players draw cards and perform actions based on the card drawn.',
  img: 'https://images.unsplash.com/photo-1604908554007-6f7f2b3f4d5d?q=80&w=1200&auto=format&fit=crop',
};

const classicGames = [
  { id: 'kings-cup', title: "King's Cup", subtitle: 'Easy · 4–10+ Players · USA',
    img: 'https://images.unsplash.com/photo-1606092195730-5d7b9af1efc5?auto=format&fit=crop&w=880&q=60' },
  { id: 'flip-cup', title: 'Flip Cup', subtitle: 'Easy · 2–4 Players · USA',
    img: 'https://images.unsplash.com/photo-1527169402691-feff5539e52c?q=80&w=1000&auto=format&fit=crop' },
  { id: 'beer-pong', title: 'Beer Pong', subtitle: 'Medium · 2–4 Players · USA',
    img: 'https://images.unsplash.com/photo-1589554828260-7f34e0a75bb8?q=80&w=1000&auto=format&fit=crop' },
];

const culturalGames = [
  { id: 'soju-bomb', title: 'Soju Bomb', subtitle: 'Medium · 2+ Players · Korea',
    img: 'https://images.unsplash.com/photo-1621263764928-05f1f5dfb375?q=80&w=1000&auto=format&fit=crop' },
  { id: 'fuzzy-duck', title: 'Fuzzy Duck', subtitle: 'Hard · 2+ Players · UK',
    img: 'https://images.unsplash.com/photo-1563986768711-b3bde3dc821e?q=80&w=1000&auto=format&fit=crop' },
];

const appEnhanced = [
  { id: 'truth-or-dare', title: 'Truth or Dare', subtitle: '2–10 Players · Medium',
    img: 'https://images.unsplash.com/photo-1582719478250-c89cae4dc85b?q=80&w=1000&auto=format&fit=crop' },
  { id: 'most-likely-to', title: 'Most Likely To', subtitle: '2–10 Players · Easy',
    img: 'https://images.unsplash.com/photo-1612197527762-7d9bb1f57c4f?q=80&w=1000&auto=format&fit=crop' },
];

const partyGames = [
  { id: 'bartender-battle', title: 'Bartender Battle', subtitle: 'Hard · 2+ Players · Global',
    img: 'https://images.unsplash.com/photo-1543007630-9710e4a3e56a?q=80&w=1000&auto=format&fit=crop' },
  { id: 'dare-wheel', title: 'Dare Wheel', subtitle: 'Easy · 2+ Players · Global',
    img: 'https://images.unsplash.com/photo-1514525253161-7a46d19cd819?q=80&w=1000&auto=format&fit=crop' },
];

const featuredGroups = [
  {
    id: 'featured-1',
    name: 'Mixology Masters',
    description: 'Advanced cocktail techniques and rare spirit discussions',
    memberCount: 15420,
    category: 'cocktails',
    image: 'https://images.unsplash.com/photo-1514362545857-3bc16c4c7d1b?auto=format&fit=crop&w=400&q=60',
  },
];

export default function CommunityScreen() {
  const [activeTab, setActiveTab] = useState<'feed' | 'challenges' | 'groups' | 'games'>('feed');
  const nav = useNavigation<NativeStackNavigationProp<RootStackParamList>>();
  const { socialData } = useSocialData();

  const handleSearch = (results: SearchableItem[]) => {
    // Handle search results - could navigate to search results screen or filter current content
    console.log('Search results:', results);
  };

  const handleRecipeCreated = (recipeId: string) => {
    console.log('Recipe created:', recipeId);
    // Could refresh community feed or navigate to recipe
  };

  const handleCompetitionEntryCreated = (entryId: string) => {
    console.log('Competition entry created:', entryId);
    // Could refresh challenges tab or navigate to entry
  };

  useLayoutEffect(() => {
    nav.setOptions({
      title: 'Community',
      headerStyle: { backgroundColor: colors.bg },
      headerTintColor: colors.text,
      headerTitleStyle: { color: colors.text, fontWeight: '900' },
      headerShadowVisible: false,
      headerRight: () => (
        <View style={{ flexDirection: 'row', gap: 16, alignItems: 'center' }}>
          <Pressable hitSlop={12} onPress={() => handleSearch([])}>
            <Ionicons name="search" size={24} color={colors.text} />
          </Pressable>
          <Pressable hitSlop={12} onPress={() => {}}>
            <Ionicons name="funnel" size={24} color={colors.text} />
          </Pressable>
          <Pressable hitSlop={12} onPress={() => handleRecipeCreated('new-recipe')}>
            <Ionicons name="add-circle" size={24} color={colors.accent} />
          </Pressable>
          <Pressable hitSlop={10} onPress={() => nav.navigate('UserProfile', { userId: 'current-user', isOwnProfile: true })}>
            <Image 
              source={{ uri: socialData.currentUser.avatar }} 
              style={{ width: 32, height: 32, borderRadius: 16 }}
            />
          </Pressable>
        </View>
      ),
    });
  }, [nav, socialData.currentUser.avatar, handleSearch, handleRecipeCreated]);

  const renderTabContent = () => {
    switch (activeTab) {
      case 'feed':
        return (
          <View>
            <Text style={styles.sectionTitle}>Featured Posts</Text>
            {featuredPosts.map(post => (
              <View key={post.id} style={styles.postCard}>
                <View style={styles.postHeader}>
                  <Image source={{ uri: post.author.avatar }} style={styles.postAvatar} />
                  <View style={styles.postAuthorInfo}>
                    <Text style={styles.authorName}>{post.author.name}</Text>
                    <Text style={styles.authorUsername}>@{post.author.username}</Text>
                  </View>
                </View>
                <Text style={styles.postContent}>{post.content}</Text>
                {post.image && <Image source={{ uri: post.image }} style={styles.postImage} />}
              </View>
            ))}
          </View>
        );
      case 'challenges':
        return (
          <View>
            <Text style={styles.sectionTitle}>XP Leaderboard</Text>
            {leaderboardData.map(item => (
              <View key={item.id} style={styles.leaderboardItem}>
                <Text style={styles.rankNumber}>{item.rank}</Text>
                <Image source={{ uri: item.avatar }} style={styles.leaderboardAvatar} />
                <View style={styles.leaderboardInfo}>
                  <Text style={styles.leaderboardName}>{item.name}</Text>
                  <Text style={styles.leaderboardUsername}>@{item.username}</Text>
                </View>
                <Text style={styles.xpAmount}>{item.xp.toLocaleString()} XP</Text>
              </View>
            ))}
          </View>
        );
      case 'groups':
        return (
          <View>
            <Text style={styles.sectionTitle}>Featured Communities</Text>
            {featuredGroups.map(group => (
              <View key={group.id} style={styles.groupCard}>
                <Image source={{ uri: group.image }} style={styles.groupImage} />
                <View style={styles.groupInfo}>
                  <Text style={styles.groupName}>{group.name}</Text>
                  <Text style={styles.groupDescription}>{group.description}</Text>
                  <Text style={styles.groupMembers}>{group.memberCount.toLocaleString()} members</Text>
                </View>
              </View>
            ))}
          </View>
        );
      case 'games':
        return (
          <ScrollView style={styles.gamesContent} showsVerticalScrollIndicator={false}>
            {/* Hero Section */}
            <TouchableOpacity 
              style={styles.heroSection}
              onPress={() => nav.navigate('KingsCup')}
              activeOpacity={0.95}
            >
              <Image source={{ uri: hero.img }} style={styles.heroImage} />
              <View style={styles.heroOverlay} />
              <View style={styles.heroContent}>
                <Text style={styles.heroTitle}>{hero.title}</Text>
                <Text style={styles.heroDesc}>{hero.desc}</Text>
                <View style={styles.heroTags}>
                  <View style={styles.heroTag}>
                    <Text style={styles.heroTagText}>Classic Games</Text>
                  </View>
                  <View style={styles.heroTag}>
                    <Text style={styles.heroTagText}>Cultural / International</Text>
                  </View>
                </View>
              </View>
            </TouchableOpacity>

            {/* Classic Games */}
            <View style={styles.gamesSectionHeader}>
              <Text style={styles.gamesSectionTitle}>Classic Games</Text>
            </View>
            <ScrollView horizontal showsHorizontalScrollIndicator={false} style={styles.gamesRow}>
              {classicGames.map(game => (
                <TouchableOpacity 
                  key={game.id} 
                  style={styles.gamesCard}
                  onPress={() => {
                    if (game.id === 'kings-cup') {
                      nav.navigate('KingsCup');
                    } else {
                      nav.navigate('GameDetails', { id: game.id });
                    }
                  }}
                  activeOpacity={0.9}
                >
                  <View style={styles.gamesCardImageContainer}>
                    <Image source={{ uri: game.img }} style={styles.gamesCardImage} />
                  </View>
                  <Text style={styles.gamesCardTitle}>{game.title}</Text>
                  <Text style={styles.gamesCardSubtitle}>{game.subtitle}</Text>
                </TouchableOpacity>
              ))}
            </ScrollView>

            {/* Cultural Games */}
            <View style={styles.gamesSectionHeader}>
              <Text style={styles.gamesSectionTitle}>Cultural Games</Text>
            </View>
            <ScrollView horizontal showsHorizontalScrollIndicator={false} style={styles.gamesRow}>
              {culturalGames.map(game => (
                <TouchableOpacity 
                  key={game.id} 
                  style={styles.gamesCard}
                  onPress={() => nav.navigate('GameDetails', { id: game.id })}
                  activeOpacity={0.9}
                >
                  <View style={styles.gamesCardImageContainer}>
                    <Image source={{ uri: game.img }} style={styles.gamesCardImage} />
                  </View>
                  <Text style={styles.gamesCardTitle}>{game.title}</Text>
                  <Text style={styles.gamesCardSubtitle}>{game.subtitle}</Text>
                </TouchableOpacity>
              ))}
            </ScrollView>

            {/* Card-Based Games */}
            <View style={styles.gamesSectionHeader}>
              <Text style={styles.gamesSectionTitle}>Card-Based Games</Text>
            </View>
            <TouchableOpacity 
              style={styles.posterCard}
              onPress={() => nav.navigate('GameDetails', { id: 'cards-category' })}
              activeOpacity={0.9}
            >
              <ImageBackground 
                source={{ uri: 'https://images.unsplash.com/photo-1543007630-9710e4a3e56a?q=80&w=1200&auto=format&fit=crop' }} 
                style={styles.posterImage}
                imageStyle={{ borderRadius: 20 }}
              >
                <View style={styles.posterTint} />
                <View style={styles.posterPlay}>
                  <MaterialCommunityIcons name="cards" size={32} color={colors.white} />
                  <Text style={styles.posterText}>Explore</Text>
                </View>
              </ImageBackground>
            </TouchableOpacity>

            {/* App-Enhanced */}
            <View style={styles.gamesSectionHeader}>
              <Text style={styles.gamesSectionTitle}>App-Enhanced</Text>
            </View>
            <ScrollView horizontal showsHorizontalScrollIndicator={false} style={styles.gamesRow}>
              {appEnhanced.map(game => (
                <TouchableOpacity 
                  key={game.id} 
                  style={styles.gamesCard}
                  onPress={() => nav.navigate('GameDetails', { id: game.id })}
                  activeOpacity={0.9}
                >
                  <View style={styles.gamesCardImageContainer}>
                    <Image source={{ uri: game.img }} style={styles.gamesCardImage} />
                  </View>
                  <Text style={styles.gamesCardTitle}>{game.title}</Text>
                  <Text style={styles.gamesCardSubtitle}>{game.subtitle}</Text>
                </TouchableOpacity>
              ))}
            </ScrollView>

            {/* Party Games */}
            <View style={styles.gamesSectionHeader}>
              <Text style={styles.gamesSectionTitle}>Party Games</Text>
            </View>
            <ScrollView horizontal showsHorizontalScrollIndicator={false} style={styles.gamesRow}>
              {partyGames.map(game => (
                <TouchableOpacity 
                  key={game.id} 
                  style={styles.gamesCard}
                  onPress={() => nav.navigate('GameDetails', { id: game.id })}
                  activeOpacity={0.9}
                >
                  <View style={styles.gamesCardImageContainer}>
                    <Image source={{ uri: game.img }} style={styles.gamesCardImage} />
                  </View>
                  <Text style={styles.gamesCardTitle}>{game.title}</Text>
                  <Text style={styles.gamesCardSubtitle}>{game.subtitle}</Text>
                </TouchableOpacity>
              ))}
            </ScrollView>
          </ScrollView>
        );
      default:
        return null;
    }
  };

  return (
    <View style={styles.container}>
      {/* Tab Navigation */}
      <View style={styles.tabContainer}>
        <ScrollView horizontal showsHorizontalScrollIndicator={false} contentContainerStyle={styles.tabScrollContent}>
          {communityTabs.map(tab => (
            <Pressable
              key={tab.key}
              style={[styles.tab, activeTab === tab.key && styles.activeTab]}
              onPress={() => setActiveTab(tab.key)}
            >
              <Ionicons 
                name={tab.icon as any} 
                size={18} 
                color={activeTab === tab.key ? colors.accent : colors.subtext} 
              />
              <Text style={[styles.tabText, activeTab === tab.key && styles.activeTabText]}>
                {tab.label}
              </Text>
            </Pressable>
          ))}
        </ScrollView>
      </View>

      {/* Content */}
      <ScrollView style={styles.content} showsVerticalScrollIndicator={false}>
        {renderTabContent()}
      </ScrollView>

    </View>
  );
}

const styles = StyleSheet.create({
  container: {
    flex: 1,
    backgroundColor: colors.bg,
  },
  tabContainer: {
    borderBottomWidth: 1,
    borderBottomColor: colors.line,
  },
  tabScrollContent: {
    paddingHorizontal: 16,
    paddingVertical: 12,
  },
  tab: {
    flexDirection: 'row',
    alignItems: 'center',
    paddingHorizontal: 16,
    paddingVertical: 8,
    marginRight: 8,
    borderRadius: 20,
    gap: 6,
  },
  activeTab: {
    backgroundColor: colors.accent + '20',
  },
  tabText: {
    fontSize: 14,
    fontWeight: '600',
    color: colors.subtext,
  },
  activeTabText: {
    color: colors.accent,
  },
  content: {
    flex: 1,
    padding: 16,
  },
  sectionTitle: {
    fontSize: 20,
    fontWeight: '800',
    color: colors.text,
    marginBottom: 16,
  },
  postCard: {
    backgroundColor: colors.card,
    borderRadius: 12,
    padding: 16,
    marginBottom: 16,
    borderWidth: 1,
    borderColor: colors.line,
  },
  postHeader: {
    flexDirection: 'row',
    alignItems: 'center',
    marginBottom: 12,
  },
  postAvatar: {
    width: 40,
    height: 40,
    borderRadius: 20,
    marginRight: 12,
  },
  postAuthorInfo: {
    flex: 1,
  },
  authorName: {
    fontSize: 16,
    fontWeight: '700',
    color: colors.text,
  },
  authorUsername: {
    fontSize: 14,
    color: colors.subtext,
  },
  postContent: {
    fontSize: 16,
    color: colors.text,
    lineHeight: 24,
    marginBottom: 12,
  },
  postImage: {
    width: '100%',
    height: 200,
    borderRadius: 8,
  },
  leaderboardItem: {
    flexDirection: 'row',
    alignItems: 'center',
    backgroundColor: colors.card,
    borderRadius: 12,
    padding: 16,
    marginBottom: 12,
    borderWidth: 1,
    borderColor: colors.line,
  },
  rankNumber: {
    fontSize: 18,
    fontWeight: '800',
    color: colors.accent,
    marginRight: 16,
    minWidth: 24,
  },
  leaderboardAvatar: {
    width: 48,
    height: 48,
    borderRadius: 24,
    marginRight: 12,
  },
  leaderboardInfo: {
    flex: 1,
  },
  leaderboardName: {
    fontSize: 16,
    fontWeight: '700',
    color: colors.text,
  },
  leaderboardUsername: {
    fontSize: 14,
    color: colors.subtext,
  },
  xpAmount: {
    fontSize: 16,
    fontWeight: '800',
    color: colors.accent,
  },
  groupCard: {
    backgroundColor: colors.card,
    borderRadius: 12,
    padding: 16,
    marginBottom: 16,
    borderWidth: 1,
    borderColor: colors.line,
  },
  groupImage: {
    width: '100%',
    height: 120,
    borderRadius: 8,
    marginBottom: 12,
  },
  groupInfo: {
    gap: 4,
  },
  groupName: {
    fontSize: 18,
    fontWeight: '700',
    color: colors.text,
  },
  groupDescription: {
    fontSize: 14,
    color: colors.subtext,
    lineHeight: 20,
  },
  groupMembers: {
    fontSize: 12,
    color: colors.subtext,
  },
  gameCard: {
    width: 220,
    marginRight: 16,
  },
  gameImage: {
    width: 220,
    height: 140,
    borderRadius: 12,
    marginBottom: 8,
  },
  gameTitle: {
    fontSize: 16,
    fontWeight: '700',
    color: colors.text,
    marginBottom: 4,
  },
  gameDifficulty: {
    fontSize: 14,
    color: colors.subtext,
  },

  // Games tab styles matching GamesScreen - Enhanced
  heroSection: {
    margin: 20,
    backgroundColor: colors.card,
    borderRadius: 20,
    overflow: 'hidden',
    shadowColor: '#000',
    shadowOffset: { width: 0, height: 8 },
    shadowOpacity: 0.15,
    shadowRadius: 16,
    elevation: 8,
  },
  heroImage: {
    height: 200,
    width: '100%',
  },
  heroOverlay: {
    position: 'absolute',
    top: 0,
    left: 0,
    right: 0,
    bottom: 0,
    backgroundColor: 'rgba(0,0,0,0.5)',
  },
  heroContent: {
    padding: 20,
  },
  heroTitle: {
    color: colors.text,
    fontSize: 26,
    fontWeight: '900',
    marginBottom: 6,
    letterSpacing: -0.5,
  },
  heroDesc: {
    color: colors.subtext,
    fontSize: 15,
    lineHeight: 22,
    marginBottom: 12,
    opacity: 0.9,
  },
  heroTags: {
    flexDirection: 'row',
    gap: 8,
    flexWrap: 'wrap',
  },
  heroTag: {
    flexDirection: 'row',
    alignItems: 'center',
    backgroundColor: colors.accent + '20',
    borderRadius: 999,
    paddingVertical: 10,
    paddingHorizontal: 16,
    borderWidth: 1,
    borderColor: colors.accent + '40',
  },
  heroTagText: {
    color: colors.accent,
    fontWeight: '700',
    letterSpacing: 0.3,
    fontSize: 13,
  },
  gamesContent: {
    paddingBottom: 40,
    paddingTop: 8,
  },
  gamesSectionHeader: {
    marginTop: 32,
    marginBottom: 16,
    paddingHorizontal: 20,
    flexDirection: 'row',
    alignItems: 'center',
    justifyContent: 'space-between',
  },
  gamesSectionTitle: {
    color: colors.text,
    fontSize: 20,
    fontWeight: '800',
    letterSpacing: -0.3,
  },
  randomButton: {
    flexDirection: 'row',
    alignItems: 'center',
    backgroundColor: colors.accent,
    borderRadius: 999,
    paddingVertical: 12,
    paddingHorizontal: 18,
    shadowColor: colors.accent,
    shadowOffset: { width: 0, height: 4 },
    shadowOpacity: 0.3,
    shadowRadius: 8,
    elevation: 4,
    gap: 8,
  },
  randomButtonText: {
    color: colors.white,
    fontWeight: '700',
    letterSpacing: 0.3,
    fontSize: 14,
  },
  gamesRow: {
    paddingHorizontal: 20,
    flexDirection: 'row',
    flexWrap: 'wrap',
    gap: 16,
  },
  gamesCard: {
    width: 200,
    marginRight: 16,
    backgroundColor: colors.card,
    borderRadius: 20,
    paddingBottom: 16,
    shadowColor: '#000',
    shadowOffset: { width: 0, height: 6 },
    shadowOpacity: 0.12,
    shadowRadius: 12,
    elevation: 6,
  },
  gamesCardImageContainer: {
    position: 'relative',
  },
  gamesCardImage: {
    height: 150,
    borderTopLeftRadius: 20,
    borderTopRightRadius: 20,
    marginBottom: 12,
  },
  gamesCardSaveButton: {
    position: 'absolute',
    top: 12,
    right: 12,
    width: 40,
    height: 40,
    borderRadius: 20,
    backgroundColor: 'rgba(0,0,0,0.7)',
    alignItems: 'center',
    justifyContent: 'center',
    backdropFilter: 'blur(10px)',
  },
  gamesCardTitle: {
    color: colors.text,
    fontWeight: '800',
    fontSize: 17,
    paddingHorizontal: 16,
    letterSpacing: -0.2,
  },
  gamesCardSubtitle: {
    color: colors.subtext,
    fontSize: 13,
    paddingHorizontal: 16,
    marginTop: 4,
    opacity: 0.8,
  },
  posterCard: {
    marginHorizontal: 20,
    marginBottom: 32,
    position: 'relative',
    shadowColor: '#000',
    shadowOffset: { width: 0, height: 8 },
    shadowOpacity: 0.15,
    shadowRadius: 16,
    elevation: 8,
  },
  posterImage: {
    height: 240,
    borderRadius: 20,
    overflow: 'hidden',
    justifyContent: 'flex-end',
  },
  posterTint: {
    position: 'absolute',
    top: 0,
    left: 0,
    right: 0,
    bottom: 0,
    backgroundColor: 'rgba(0,0,0,0.4)',
  },
  posterPlay: {
    flexDirection: 'row',
    alignItems: 'center',
    gap: 12,
    padding: 20,
  },
  posterText: {
    color: colors.white,
    fontWeight: '800',
    fontSize: 18,
    letterSpacing: -0.3,
  },
});